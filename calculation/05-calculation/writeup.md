# Calcultion Writeup

## How I think:
原始代码的主要性能问题：

三重嵌套循环：最内层循环计算量巨大

重复三角函数计算：sin(p) * cos(p) 被重复计算多次

频繁的浮点运算：在整数为主的算法中混入大量浮点运算

内存访问模式不佳：二维数组访问可能引起缓存问题

## How I optimize:
 - 数学优化:
注意到 sin(p) * cos(p) = 0.5 * sin(2p)，可以预先计算这个值。

 - 预先计算三角函数:
最内层循环的三角函数计算可以预先计算并缓存。

 -  循环优化:
减少不必要的浮点运算

 - 优化内存访问模式

## (Add whatever you want)...